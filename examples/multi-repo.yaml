version: 0.1

name: multi-repo-demo
description: Add a new health check endpoint to backend and show it on frontend
model: auto

workspace:
  base_branch: main
  branch_prefix: agent/
  auto_commit: true
  repos:
  - name: backend
    path: demo-backend
  - name: frontend
    path: demo-frontend

context:
  include_repo_tree: true
  include_git_diff: false

agents:
  planner:
    prompt: agents/planner.md
    read_only: true

  implementer:
    prompt: agents/implementer.md
    read_only: false

steps:
  - name: plan
    agent: planner
    mode: plan
  - name: implement
    agent: implementer
  - name: self_review
    agent: implementer

constraints:
  max_iterations: 3
  max_diff_lines: 200
  require_tests: false

output:
  create_pr: false
